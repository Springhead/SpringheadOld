% 5.4.13.KeyInterruption.tex
%	Last update: 2018/06/12 F.Kanehori
%\newpage
\subsubsection{クラス KEYINTR (KeyInterruption)}
\label{subsubsec:KeyInterruption}

\bigskip
\begin{Brief}[b]
	キーボード割込(\Ctrl{C}\,)を取り扱うための簡易クラス。
	このクラスのメソッドはすべてstaticである。
\end{Brief}

\bigskip
\begin{Methods}{公開メソッド}
\begin{Method}{set_interrupted(flag)}
    \begin{Brief}
	interruptedフラグを引数で指定された値に設定する。
	\tt{handler()}から呼ばれる。
    \end{Brief}
\end{Method}
\begin{Method}{\it{bool} is_interrupted()}
    \begin{Brief}
	interruptedフラグが設定されているか否か
	(割込があったかどうか)を返す。
    \end{Brief}
\end{Method}
\begin{Method}{\it{string} what()}
    \begin{Brief}
	割込が起きた理由を返す。
	ここでは固定文字列\DQuote{KEYINTR}を返す。
    \end{Brief}
\end{Method}
\begin{Method}{handler(signum, frame)}
    \begin{Args}[b]
	\Item[t]{signum}{シグナル番号}
	\Item[t]{frame}{現在のスタックフレーム}
    \end{Args}
    \begin{Brief}
	ここではシグナルの番号を標準出力に表示するとともに、
	シグナルが発生したことを記録するだけ(\tt{set_interrupted()})。
	このハンドラは、\tt{SpringheadTest}において、
	\tt{traverse()}を呼び出す直前に設定される。
    \end{Brief}
\end{Method}
\end{Methods}

% end: 5.4.13.KeyInterruption.tex
